let getData=(()=>{var a=_asyncToGenerator(function*(){let b=getCookieDict(),c=b.monkeyWebUser,[d,e,f]=yield Promise.all([getConfig(),studentProfile(c),listQuarter("public")]);for(let g in regisQ=d.defaultQuarter.registration,f.quarter)f.quarter[g].year===regisQ.year&&f.quarter[g].quarter===regisQ.quarter&&$("#regisHead").html("\u0E25\u0E07\u0E17\u0E30\u0E40\u0E1A\u0E35\u0E22\u0E19 "+f.quarter[g].name);grade=e.level.slice(0,-1),level=e.level.slice(-1),genButton()});return function(){return a.apply(this,arguments)}})(),genButton=(()=>{var a=_asyncToGenerator(function*(){let[b,c]=yield Promise.all([allCourseV1(regisQ.year,regisQ.quarter),$.post("post/listCourseSuggestion",{year:regisQ.year,quarter:regisQ.quarter,grade:grade})]),d=b.filter(function(f){for(let g in f.grade)if(f.grade[g]===parseInt(grade))return!0;return!1}),e=[1,1,1];for(let f in $(".selector").html("-").addClass("disabled"),d){let g=moment(d[f].day);8===g.hour()?($(".select8-"+e[0]).html(d[f].courseName+" - "+d[f].tutorName).removeClass("disabled").attr("id",d[f].courseID),e[0]+=1):10===g.hour()?($(".select10-"+e[1]).html(d[f].courseName+" - "+d[f].tutorName).removeClass("disabled").attr("id",d[f].courseID),e[1]+=1):13===g.hour()&&($(".select13-"+e[2]).html(d[f].courseName+" - "+d[f].tutorName).removeClass("disabled").attr("id",d[f].courseID),e[2]+=1),$("#crDescription").append("<p>"+d[f].courseName+" \u0E04\u0E37\u0E2D\u0E04\u0E2D\u0E23\u0E4C\u0E2A"+d[f].description+"</p>")}for(let f in c.course)if(c.course[f].level===level)for(let g in c.course[f].courseID)$("#"+c.course[f].courseID[g]).addClass("suggestCr")});return function(){return a.apply(this,arguments)}})();function _asyncToGenerator(a){return function(){var b=a.apply(this,arguments);return new Promise(function(c,d){function e(f,g){try{var h=b[f](g),k=h.value}catch(l){return void d(l)}return h.done?void c(k):Promise.resolve(k).then(function(l){e("next",l)},function(l){e("throw",l)})}return e("next")})}}let regisQ,grade,level;getData(),$(".selector").click(function(){$(this).hasClass("disabled")||($(this).siblings().removeClass("btn-primary").addClass("btn-light"),$(this).toggleClass("btn-primary btn-light"),updateTotal())});function updateTotal(){let a=$(".btn-primary").length;$("#total").html("\u0E23\u0E27\u0E21\u0E40\u0E1B\u0E47\u0E19\u0E40\u0E07\u0E34\u0E19 "+9e3*a+" \u0E1A\u0E32\u0E17")}$("#submitBtn").click(function(){if(0>=$(".btn-primary").length)alert("\u0E01\u0E23\u0E38\u0E13\u0E32\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E27\u0E34\u0E0A\u0E32");else{let a=[];for(let d=0;d<$(".btn-primary").length;d++)a.push($(".btn-primary")[d].id);let b=getCookieDict(),c=b.monkeyWebUser;addStudentCourse(c,a).then(d=>{log(d),changeRegistrationState(c,"untransferred",{year:regisQ.year,quarter:regisQ.quarter}).then(()=>{self.location="/summerAbsentForm"})})}});